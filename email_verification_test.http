### Email Verification API Testing
### Base URL
@baseUrl = http://localhost:5000/api

### Test 1: Register a new user (should automatically send verification email)
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "request": {
    "email": "testuser@example.com",
    "password": "TestPassword123!",
    "fullName": "Test User",
    "address": "123 Test Street",
    "dateOfBirth": "1990-01-01T00:00:00Z"
  }
}

### Test 2: Try to login before email verification (should fail)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "TestPassword123!"
}

### Test 3: Send email verification code manually
POST {{baseUrl}}/auth/send-verification
Content-Type: application/json

{
  "email": "testuser@example.com"
}

### Test 4: Verify email with correct code (you'll need to get the code from the email/logs)
POST {{baseUrl}}/auth/verify-email
Content-Type: application/json

{
  "email": "testuser@example.com",
  "verificationCode": "123456"
}

### Test 5: Verify email with incorrect code (should fail)
POST {{baseUrl}}/auth/verify-email
Content-Type: application/json

{
  "email": "testuser@example.com",
  "verificationCode": "999999"
}

### Test 6: Resend verification code
POST {{baseUrl}}/auth/resend-verification
Content-Type: application/json

{
  "email": "testuser@example.com"
}

### Test 7: Login after email verification (should succeed)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "TestPassword123!"
}

### Test 8: Try to verify already verified email (should indicate already verified)
POST {{baseUrl}}/auth/verify-email
Content-Type: application/json

{
  "email": "testuser@example.com",
  "verificationCode": "123456"
}

### Test 9: Test with non-existent email
POST {{baseUrl}}/auth/send-verification
Content-Type: application/json

{
  "email": "nonexistent@example.com"
}

### Test 10: Test with invalid email format
POST {{baseUrl}}/auth/send-verification
Content-Type: application/json

{
  "email": "invalid-email"
}

### Test 11: Test with invalid verification code format
POST {{baseUrl}}/auth/verify-email
Content-Type: application/json

{
  "email": "testuser@example.com",
  "verificationCode": "abc"
}